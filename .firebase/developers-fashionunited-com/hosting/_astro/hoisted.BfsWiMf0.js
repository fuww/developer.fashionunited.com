import{i as Tt}from"./index.CnhbkCW5.js";let C;const Lt=()=>{document.documentElement.classList.add("loading")},$t=()=>{document.documentElement.classList.remove("loading")},Mt=()=>{C&&C()};function kt(t,e=!1){C&&e||(C=t),document.addEventListener("astro:page-load",Mt),document.addEventListener("astro:before-preparation",Lt),document.addEventListener("astro:after-preparation",$t)}async function xt(t){if(document.getElementById("vtbot-loading-indicator"))return;const n=t.src?[]:document.querySelectorAll('head link[rel*="icon"]'),o=t.src||n.length>0&&n[n.length-1]?.href||"/favicon.ico";let r="";try{if(!(await fetch(o)).ok)throw new Error}catch{r='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Ccircle cx="50" cy="50" r="50" fill="%23888" /%3E%3C/svg%3E'}let i=null;if(!r)if(o?.endsWith(".svg")){const c=await(await fetch(o)).text();i=new DOMParser().parseFromString(c,"image/svg+xml").querySelector("svg")}else r=o;i||(i=document.createElement("img"),i.src=r,i.alt="Loading indicator");const a=document.createElement("div");a.style[t.top||!t.bottom?"top":"bottom"]=t.top||t.bottom||"3vh",a.style[t.right||!t.left?"right":"left"]=t.right||t.left||"3vw",a.id="vtbot-loading-indicator",a.appendChild(i),document.body.appendChild(a)}const _=document.querySelectorAll("meta[name='vtbot-loading-indicator']"),[qt,Rt,It,Ct,Dt]=_.length>0?_[_.length-1].content.split(";"):["","","","",""];kt(()=>xt({top:qt,bottom:Rt,left:It,right:Ct,src:Dt}),!0);class Nt extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&e.addEventListener("change",n=>{n.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=n.currentTarget.value)})}}customElements.define("starlight-lang-select",Nt);class Pt extends HTMLElement{constructor(){super();const e=this.querySelector("button[data-open-modal]"),n=this.querySelector("button[data-close-modal]"),o=this.querySelector("dialog"),r=this.querySelector(".dialog-frame"),i=u=>{("href"in(u.target||{})||document.body.contains(u.target)&&!r.contains(u.target))&&s()},a=u=>{o.showModal(),document.body.toggleAttribute("data-search-modal-open",!0),this.querySelector("input")?.focus(),u?.stopPropagation(),window.addEventListener("click",i)},s=()=>o.close();e.addEventListener("click",a),e.disabled=!1,n.addEventListener("click",s),o.addEventListener("close",()=>{document.body.toggleAttribute("data-search-modal-open",!1),window.removeEventListener("click",i)}),window.addEventListener("keydown",u=>{const d=document.activeElement instanceof HTMLElement&&(["input","select","textarea"].includes(document.activeElement.tagName.toLowerCase())||document.activeElement.isContentEditable);u.metaKey===!0&&u.key==="k"?(o.open?s():a(),u.preventDefault()):u.key==="/"&&!o.open&&!d&&(a(),u.preventDefault())});let c={};try{c=JSON.parse(this.dataset.translations||"{}")}catch{}this.dataset.stripTrailingSlash,window.addEventListener("DOMContentLoaded",()=>{})}}customElements.define("site-search",Pt);class Ht extends HTMLElement{#t="starlight-theme";constructor(){super(),this.#n(this.#s());const e=this.querySelector("select");e&&e.addEventListener("change",n=>{n.currentTarget instanceof HTMLSelectElement&&this.#n(this.#e(n.currentTarget.value))})}#e(e){return e==="auto"||e==="dark"||e==="light"?e:"auto"}#o(){return matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}#n(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?this.#o():e,this.#r(e)}#r(e){typeof localStorage<"u"&&(e==="light"||e==="dark"?localStorage.setItem(this.#t,e):localStorage.removeItem(this.#t))}#s(){const e=typeof localStorage<"u"&&localStorage.getItem(this.#t);return this.#e(e)}}customElements.define("starlight-theme-select",Ht);const Ot="_top";class it extends HTMLElement{constructor(){super(),this._current=this.querySelector('a[aria-current="true"]'),this.minH=parseInt(this.dataset.minH||"2",10),this.maxH=parseInt(this.dataset.maxH||"3",10);const e=[...this.querySelectorAll("a")],n=d=>{if(d instanceof HTMLHeadingElement){if(d.id===Ot)return!0;const l=d.tagName[1];if(l){const f=parseInt(l,10);if(f>=this.minH&&f<=this.maxH)return!0}}return!1},o=d=>{if(!d)return null;const l=d;for(;d;){if(n(d))return d;for(d=d.previousElementSibling;d?.lastElementChild;)d=d.lastElementChild;const f=o(d);if(f)return f}return o(l.parentElement)},r=d=>{for(const{isIntersecting:l,target:f}of d){if(!l)continue;const h=o(f);if(!h)continue;const m=e.find($=>$.hash==="#"+encodeURIComponent(h.id));if(m){this.current=m;break}}},i=document.querySelectorAll("main [id], main [id] ~ *, main .content > *");let a;const s=()=>{a&&a.disconnect(),a=new IntersectionObserver(r,{rootMargin:this.getRootMargin()}),i.forEach(d=>a.observe(d))};s();const c=window.requestIdleCallback||(d=>setTimeout(d,1));let u;window.addEventListener("resize",()=>{a&&a.disconnect(),clearTimeout(u),u=setTimeout(()=>c(s),200)})}set current(e){e!==this._current&&(this._current&&this._current.removeAttribute("aria-current"),e.setAttribute("aria-current","true"),this._current=e)}getRootMargin(){const e=document.querySelector("header")?.getBoundingClientRect().height||0,n=this.querySelector("summary")?.getBoundingClientRect().height||0,o=e+n+32,r=o+53,i=document.documentElement.clientHeight;return`-${o}px 0% ${r-i}px`}}customElements.define("starlight-toc",it);class _t extends it{set current(e){super.current=e;const n=this.querySelector(".display-current");n&&(n.textContent=e.textContent)}constructor(){super();const e=this.querySelector("details");if(!e)return;const n=()=>{e.open=!1};e.querySelectorAll("a").forEach(o=>{o.addEventListener("click",n)}),window.addEventListener("click",o=>{e.contains(o.target)||n()}),window.addEventListener("keydown",o=>{if(o.key==="Escape"&&e.open){const r=e.contains(document.activeElement);if(n(),r){const i=e.querySelector("summary");i&&i.focus()}}})}}customElements.define("mobile-starlight-toc",_t);class Ft extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const e=this.closest("nav");e&&e.addEventListener("keyup",n=>this.closeOnEscape(n))}setExpanded(e){this.setAttribute("aria-expanded",String(e)),document.body.toggleAttribute("data-mobile-menu-expanded",e)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(e){e.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",Ft);const A="data-astro-transition-persist";function Bt(t){for(const e of document.scripts)for(const n of t.scripts)if(!n.hasAttribute("data-astro-rerun")&&(!e.src&&e.textContent===n.textContent||e.src&&e.type===n.type&&e.src===n.src)){n.dataset.astroExec="";break}}function Wt(t){const e=document.documentElement,n=[...e.attributes].filter(({name:o})=>(e.removeAttribute(o),o.startsWith("data-astro-")));[...t.documentElement.attributes,...n].forEach(({name:o,value:r})=>e.setAttribute(o,r))}function Ut(t){for(const e of Array.from(document.head.children)){const n=jt(e,t);n?n.remove():e.remove()}document.head.append(...t.head.children)}function Xt(t,e){e.replaceWith(t);for(const n of e.querySelectorAll(`[${A}]`)){const o=n.getAttribute(A),r=t.querySelector(`[${A}="${o}"]`);r&&(r.replaceWith(n),r.localName==="astro-island"&&Kt(n)&&(n.setAttribute("ssr",""),n.setAttribute("props",r.getAttribute("props"))))}}const Yt=()=>{const t=document.activeElement;if(t?.closest(`[${A}]`)){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){const e=t.selectionStart,n=t.selectionEnd;return()=>F({activeElement:t,start:e,end:n})}return()=>F({activeElement:t})}else return()=>F({activeElement:null})},F=({activeElement:t,start:e,end:n})=>{t&&(t.focus(),(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&(typeof e=="number"&&(t.selectionStart=e),typeof n=="number"&&(t.selectionEnd=n)))},jt=(t,e)=>{const n=t.getAttribute(A),o=n&&e.head.querySelector(`[${A}="${n}"]`);if(o)return o;if(t.matches("link[rel=stylesheet]")){const r=t.getAttribute("href");return e.head.querySelector(`link[rel=stylesheet][href="${r}"]`)}return null},Kt=t=>{const e=t.dataset.astroTransitionPersistProps;return e==null||e==="false"},zt=t=>{Bt(t),Wt(t),Ut(t);const e=Yt();Xt(t.body,document.body),e()},at="astro:before-preparation",Vt="astro:after-preparation",H="astro:before-swap",ct="astro:after-swap",Gt=t=>document.dispatchEvent(new Event(t));class lt extends Event{from;to;direction;navigationType;sourceElement;info;newDocument;signal;constructor(e,n,o,r,i,a,s,c,u,d){super(e,n),this.from=o,this.to=r,this.direction=i,this.navigationType=a,this.sourceElement=s,this.info=c,this.newDocument=u,this.signal=d,Object.defineProperties(this,{from:{enumerable:!0},to:{enumerable:!0,writable:!0},direction:{enumerable:!0,writable:!0},navigationType:{enumerable:!0},sourceElement:{enumerable:!0},info:{enumerable:!0},newDocument:{enumerable:!0,writable:!0},signal:{enumerable:!0}})}}class Jt extends lt{formData;loader;constructor(e,n,o,r,i,a,s,c,u,d){super(at,{cancelable:!0},e,n,o,r,i,a,s,c),this.formData=u,this.loader=d.bind(this,this),Object.defineProperties(this,{formData:{enumerable:!0},loader:{enumerable:!0,writable:!0}})}}class Qt extends lt{direction;viewTransition;swap;constructor(e,n){super(H,void 0,e.from,e.to,e.direction,e.navigationType,e.sourceElement,e.info,e.newDocument,e.signal),this.direction=e.direction,this.viewTransition=n,this.swap=()=>zt(this.newDocument),Object.defineProperties(this,{direction:{enumerable:!0},viewTransition:{enumerable:!0},swap:{enumerable:!0,writable:!0}})}}async function Zt(t,e,n,o,r,i,a,s,c){const u=new Jt(t,e,n,o,r,i,window.document,a,s,c);return document.dispatchEvent(u)&&(await u.loader(),u.defaultPrevented||(Gt(Vt),u.navigationType!=="traverse"&&Y({scrollX,scrollY}))),u}function te(t,e){const n=new Qt(t,e);return document.dispatchEvent(n),n.swap(),n}const ee=history.pushState.bind(history),D=history.replaceState.bind(history),Y=t=>{history.state&&(history.scrollRestoration="manual",D({...history.state,...t},""))},x=!!document.startViewTransition,j=()=>!!document.querySelector('[name="astro-view-transitions-enabled"]'),dt=(t,e)=>t.pathname===e.pathname&&t.search===e.search;let p,w,O;const ut=t=>document.dispatchEvent(new Event(t)),ft=()=>ut("astro:page-load"),ne=()=>{let t=document.createElement("div");t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic","true"),t.className="astro-route-announcer",document.body.append(t),setTimeout(()=>{let e=document.title||document.querySelector("h1")?.textContent||location.pathname;t.textContent=e},60)},G="data-astro-transition-persist",J="data-astro-transition",U="data-astro-transition-fallback",q="data-vite-dev-id";let Q,M=0;history.state?(M=history.state.index,scrollTo({left:history.state.scrollX,top:history.state.scrollY})):j()&&(D({index:M,scrollX,scrollY},""),history.scrollRestoration="manual");async function oe(t,e){try{const n=await fetch(t,e),r=(n.headers.get("content-type")??"").split(";",1)[0].trim();return r!=="text/html"&&r!=="application/xhtml+xml"?null:{html:await n.text(),redirected:n.redirected?n.url:void 0,mediaType:r}}catch{return null}}function mt(){const t=document.querySelector('[name="astro-view-transitions-fallback"]');return t?t.getAttribute("content"):"animate"}function re(){let t=Promise.resolve();for(const e of Array.from(document.scripts)){if(e.dataset.astroExec==="")continue;const n=e.getAttribute("type");if(n&&n!=="module"&&n!=="text/javascript")continue;const o=document.createElement("script");o.innerHTML=e.innerHTML;for(const r of e.attributes){if(r.name==="src"){const i=new Promise(a=>{o.onload=o.onerror=a});t=t.then(()=>i)}o.setAttribute(r.name,r.value)}o.dataset.astroExec="",e.replaceWith(o)}return t}const ht=(t,e,n,o,r)=>{const i=dt(e,t),a=document.title;document.title=o;let s=!1;if(t.href!==location.href&&!r)if(n.history==="replace"){const c=history.state;D({...n.state,index:c.index,scrollX:c.scrollX,scrollY:c.scrollY},"",t.href)}else ee({...n.state,index:++M,scrollX:0,scrollY:0},"",t.href);if(document.title=a,O=t,i||(scrollTo({left:0,top:0,behavior:"instant"}),s=!0),r)scrollTo(r.scrollX,r.scrollY);else{if(t.hash){history.scrollRestoration="auto";const c=history.state;location.href=t.href,history.state||(D(c,""),i&&window.dispatchEvent(new PopStateEvent("popstate")))}else s||scrollTo({left:0,top:0,behavior:"instant"});history.scrollRestoration="manual"}};function se(t){const e=[];for(const n of t.querySelectorAll("head link[rel=stylesheet]"))if(!document.querySelector(`[${G}="${n.getAttribute(G)}"], link[rel=stylesheet][href="${n.getAttribute("href")}"]`)){const o=document.createElement("link");o.setAttribute("rel","preload"),o.setAttribute("as","style"),o.setAttribute("href",n.getAttribute("href")),e.push(new Promise(r=>{["load","error"].forEach(i=>o.addEventListener(i,r)),document.head.append(o)}))}return e}async function Z(t,e,n,o,r){async function i(c){function u(h){const m=h.effect;return!m||!(m instanceof KeyframeEffect)||!m.target?!1:window.getComputedStyle(m.target,m.pseudoElement).animationIterationCount==="infinite"}const d=document.getAnimations();document.documentElement.setAttribute(U,c);const f=document.getAnimations().filter(h=>!d.includes(h)&&!u(h));return Promise.allSettled(f.map(h=>h.finished))}if(r==="animate"&&!n.transitionSkipped&&!t.signal.aborted)try{await i("old")}catch{}const a=document.title,s=te(t,n.viewTransition);ht(s.to,s.from,e,a,o),ut(ct),r==="animate"&&(!n.transitionSkipped&&!s.signal.aborted?i("new").finally(()=>n.viewTransitionFinished()):n.viewTransitionFinished())}function ie(){return p?.controller.abort(),p={controller:new AbortController}}async function pt(t,e,n,o,r){const i=ie();if(!j()||location.origin!==n.origin){i===p&&(p=void 0),location.href=n.href;return}const a=r?"traverse":o.history==="replace"?"replace":"push";if(a!=="traverse"&&Y({scrollX,scrollY}),dt(e,n)&&(t!=="back"&&n.hash||t==="back"&&e.hash)){ht(n,e,o,document.title,r),i===p&&(p=void 0);return}const s=await Zt(e,n,t,a,o.sourceElement,o.info,i.controller.signal,o.formData,c);if(s.defaultPrevented||s.signal.aborted){i===p&&(p=void 0),s.signal.aborted||(location.href=n.href);return}async function c(l){const f=l.to.href,h={signal:l.signal};if(l.formData){h.method="POST";const S=l.sourceElement instanceof HTMLFormElement?l.sourceElement:l.sourceElement instanceof HTMLElement&&"form"in l.sourceElement?l.sourceElement.form:l.sourceElement?.closest("form");h.body=S?.attributes.getNamedItem("enctype")?.value==="application/x-www-form-urlencoded"?new URLSearchParams(l.formData):l.formData}const m=await oe(f,h);if(m===null){l.preventDefault();return}if(m.redirected){const S=new URL(m.redirected);if(S.origin!==l.to.origin){l.preventDefault();return}l.to=S}if(Q??=new DOMParser,l.newDocument=Q.parseFromString(m.html,m.mediaType),l.newDocument.querySelectorAll("noscript").forEach(S=>S.remove()),!l.newDocument.querySelector('[name="astro-view-transitions-enabled"]')&&!l.formData){l.preventDefault();return}const $=se(l.newDocument);$.length&&!l.signal.aborted&&await Promise.all($),l.signal.aborted||await ce(l.newDocument,l.to,l.signal)}async function u(){if(w&&w.viewTransition){try{w.viewTransition.skipTransition()}catch{}try{await w.viewTransition.updateCallbackDone}catch{}}return w={transitionSkipped:!1}}const d=await u();if(s.signal.aborted){i===p&&(p=void 0);return}if(document.documentElement.setAttribute(J,s.direction),x)d.viewTransition=document.startViewTransition(async()=>await Z(s,o,d,r));else{const l=(async()=>{await Promise.resolve(),await Z(s,o,d,r,mt())})();d.viewTransition={updateCallbackDone:l,ready:l,finished:new Promise(f=>d.viewTransitionFinished=f),skipTransition:()=>{d.transitionSkipped=!0,document.documentElement.removeAttribute(U)}}}d.viewTransition.updateCallbackDone.finally(async()=>{await re(),ft(),ne()}),d.viewTransition.finished.finally(()=>{d.viewTransition=void 0,d===w&&(w=void 0),i===p&&(p=void 0),document.documentElement.removeAttribute(J),document.documentElement.removeAttribute(U)});try{await d.viewTransition.updateCallbackDone}catch(l){const f=l;console.log("[astro]",f.name,f.message,f.stack)}}async function tt(t,e){await pt("forward",O,new URL(t,location.href),e??{})}function ae(t){if(!j()&&t.state){location.reload();return}if(t.state===null)return;const e=history.state,n=e.index,o=n>M?"forward":"back";M=n,pt(o,O,new URL(location.href),{},e)}const et=()=>{history.state&&(scrollX!==history.state.scrollX||scrollY!==history.state.scrollY)&&Y({scrollX,scrollY})};{if(x||mt()!=="none")if(O=new URL(location.href),addEventListener("popstate",ae),addEventListener("load",ft),"onscrollend"in window)addEventListener("scrollend",et);else{let t,e,n,o;const r=()=>{if(o!==history.state?.index){clearInterval(t),t=void 0;return}if(e===scrollY&&n===scrollX){clearInterval(t),t=void 0,et();return}else e=scrollY,n=scrollX};addEventListener("scroll",()=>{t===void 0&&(o=history.state.index,e=scrollY,n=scrollX,t=window.setInterval(r,50))},{passive:!0})}for(const t of document.scripts)t.dataset.astroExec=""}async function ce(t,e,n){if(t.body.querySelector("astro-island[client='only']")){const o=document.createElement("iframe");o.src=e.href,o.style.display="none",document.body.append(o),o.contentWindow.console=Object.keys(console).reduce((a,s)=>(a[s]=()=>{},a),{}),await i(o);const r=o.contentDocument?.head;r&&[...r.querySelectorAll(`style[${q}]`)].map(s=>s.getAttribute(q)).forEach(s=>{const c=r.querySelector(`style[${q}="${s}"]`);c&&!t.head.querySelector(`style[${q}="${s}"]`)&&t.head.appendChild(c.cloneNode(!0))});async function i(a){return n.aborted||await new Promise(s=>a.contentWindow?.addEventListener("load",s,{once:!0})),new Promise(async s=>{for(let c=0;c<=20&&!(n.aborted||!a.contentDocument.body.querySelector("astro-island[ssr]"));++c)await new Promise(u=>setTimeout(u,50));s()})}}}const T="data-astro-transition-persist";function le(t){for(const e of document.scripts)for(const n of t.scripts)if(!n.hasAttribute("data-astro-rerun")&&(!e.src&&e.textContent===n.textContent||e.src&&e.type===n.type&&e.src===n.src)){n.dataset.astroExec="";break}}function de(t){const e=document.documentElement,n=[...e.attributes].filter(({name:o})=>(e.removeAttribute(o),o.startsWith("data-astro-")));[...t.documentElement.attributes,...n].forEach(({name:o,value:r})=>e.setAttribute(o,r))}function ue(t){for(const e of Array.from(document.head.children)){const n=he(e,t);n?n.remove():e.remove()}document.head.append(...t.head.children)}function fe(t,e){e.replaceWith(t);for(const n of e.querySelectorAll(`[${T}]`)){const o=n.getAttribute(T),r=t.querySelector(`[${T}="${o}"]`);r&&(r.replaceWith(n),r.localName==="astro-island"&&pe(n)&&(n.setAttribute("ssr",""),n.setAttribute("props",r.getAttribute("props"))))}}const me=()=>{const t=document.activeElement;if(t?.closest(`[${T}]`)){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){const e=t.selectionStart,n=t.selectionEnd;return()=>B({activeElement:t,start:e,end:n})}return()=>B({activeElement:t})}else return()=>B({activeElement:null})},B=({activeElement:t,start:e,end:n})=>{t&&(t.focus(),(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&(typeof e=="number"&&(t.selectionStart=e),typeof n=="number"&&(t.selectionEnd=n)))},he=(t,e)=>{const n=t.getAttribute(T),o=n&&e.head.querySelector(`[${T}="${n}"]`);if(o)return o;if(t.matches("link[rel=stylesheet]")){const r=t.getAttribute("href");return e.head.querySelector(`link[rel=stylesheet][href="${r}"]`)}return null},pe=t=>{const e=t.dataset.astroTransitionPersistProps;return e==null||e==="false"},ge="vtbot-replace-swap",be=()=>(document.querySelector(`meta[name="${ge}"]`)?.getAttribute("content")??"").split(",").map(t=>t.trim());document.addEventListener(H,t=>{const e=t.swap;t.swap=()=>{const n=l=>{const f=l.body.querySelectorAll("[data-vtbot-replace]"),h=[...f].map(m=>m instanceof HTMLElement&&m.dataset.vtbotReplace);return{elements:[...f],names:new Set(h)}},{elements:o,names:r}=n(document),{elements:i,names:a}=n(t.newDocument),s=[...r].filter(l=>a.has(l));if(s.length===0){e();return}const c=t.newDocument;le(c);const u=be().map(l=>({key:l,val:document.documentElement.getAttribute(l)}));de(c),u.forEach(l=>l.val!==null&&document.documentElement.setAttribute(l.key,l.val)),ue(c);const d=me();s.forEach(l=>{const f=o.find(m=>m.dataset.vtbotReplace===l),h=i.find(m=>m.dataset.vtbotReplace===l);f&&h&&fe(h,f)}),d(),[...document.querySelectorAll("[class*='astro-route-announcer']")].forEach(l=>l.remove())}});const K="div.main-frame",ye=`${K} main`,Ee="data-mobile-menu-expanded",we="starlight-menu-button",R="nav.sidebar",v=`${R} .sidebar-content`,nt="starlight-lang-select";function ve(t){const e=a(t.href),n=e.split(""),o=document.querySelectorAll(`${v} a[href^='/']`);if(o.length===0)return null;const r=[...o],i=r.map(s=>a(new URL(s.href,location.href).href));return r[i.map(s=>s.split("").findIndex((c,u)=>c!==n[u])).map((s,c)=>s!==-1?s:Math.min(e.length,i[c].length)+(e.length===i[c].length?1:0)).reduce((s,c,u,d)=>c>d[s]?u:s,0)];function a(s){return s.replace(/\/#/,"#").replace(/\/$/,"")}}function Se(){document.querySelectorAll(`${v} [aria-current="page"]`)?.forEach(t=>t.removeAttribute("aria-current"))}function Ae(t){Se(),ve(t)?.setAttribute("aria-current","page")}function gt(t,e=!0){const n=document.querySelector(`${v} [aria-current="page"]`);let o=n?.closest("details");for(;o;)o.open=!0,o=o.parentElement?.closest("details");e&&n?.scrollIntoView({block:"center",behavior:"instant"})}function ot(t){t.querySelectorAll(v+" .__collapse input").forEach((e,n)=>e.setAttribute("data-vtbot-replace",`vtbot-sms-v0-${n}`)),t.querySelectorAll(v+" :is(starlight-multi-sidebar-tabs, starlight-multi-sidebar-select)").forEach((e,n)=>{e.setAttribute("data-vtbot-replace",`vtbot-sms-${n}`),[...e.children].forEach((o,r)=>{r>0&&[...o.children].forEach((i,a)=>i.setAttribute("data-astro-transition-persist",`vtbot-sms-${n}-${r}-${a}`))})})}const Te="vtbot-starlight-replace-sidebar-content",Le="vtbot-starlight-retain-current-page-marker",bt=()=>({replaceSidebarContent:document.querySelector(`head meta[name="${Te}"]`),retainCurrentPageMarker:document.querySelector(`head meta[name="${Le}"]`),mainTransitionScope:document.querySelector('head meta[name="vtbot-main-transition-scope"]')?.content});let{replaceSidebarContent:z,retainCurrentPageMarker:V,mainTransitionScope:I}=bt();gt();yt(window.document);function $e(t){rt(document),rt(t.newDocument),xe(),yt(t.newDocument),qe(t),!z&&!V&&Ae(t.to)}function Me(t){Re(t.newDocument)}function ke(t){!V&&gt()}function xe(){document.body.hasAttribute(Ee)&&document.body.querySelector(we)?.closest("nav")?.dispatchEvent(new KeyboardEvent("keyup",{key:"Escape",code:"Escape",charCode:27,keyCode:27,shiftKey:!1,ctrlKey:!1,altKey:!1,metaKey:!1}))}function rt(t){t.body.querySelector(K)?.setAttribute("data-vtbot-replace","main")}function qe(t){if(!I)return;e(document,I),e(t.newDocument,I);function e(n,o){const r=n.querySelector(ye);r&&(r.dataset.astroTransitionScope=o)}}function Re(t){const e=t.querySelector(R);if(!e)document.querySelector(R)?.remove();else{const n=document.querySelector(R);if(!n)document.querySelector(K)?.insertAdjacentElement("beforebegin",e);else{const o=n.querySelector(v),r=e.querySelector(v),i=[...o?.querySelectorAll("a")??[]].map(a=>a.href).join(" ")!==[...r?.querySelectorAll("a")??[]].map(a=>a.href).join(" ");z||i?o&&r?(o.setAttribute("data-vtbot-replace","vtbot-sidebar-content"),r.setAttribute("data-vtbot-replace","vtbot-sidebar-content"),n.removeAttribute("data-vtbot-replace"),e.removeAttribute("data-vtbot-replace")):(n.setAttribute("data-vtbot-replace","vtbot-sidebar-content"),e.setAttribute("data-vtbot-replace","vtbot-sidebar-content"),o?.removeAttribute("data-vtbot-replace"),r?.removeAttribute("data-vtbot-replace")):(ot(document),ot(t))}}}function yt(t){t.querySelectorAll(nt).forEach((e,n)=>e.setAttribute("data-vtbot-replace",`vtbot-${nt}-${n}`))}document.addEventListener(at,t=>{({replaceSidebarContent:z,retainCurrentPageMarker:V,mainTransitionScope:I}=bt());const e=t.loader;t.loader=async()=>{await e(),$e(t)}});document.addEventListener(H,t=>{Me(t);const e=t.swap;t.swap=()=>{e(),ke()}});function Ie(){const t=document.querySelector('[name="astro-view-transitions-fallback"]');return t?t.getAttribute("content"):"animate"}function st(t){return t.dataset.astroReload!==void 0}(x||Ie()!=="none")&&(window.matchMedia("(prefers-reduced-motion)").matches&&console.warn("[transitions]: all view transition animations, including fallback animation, are disabled as this device has the prefer-reduced-motion setting enabled."),document.addEventListener("click",t=>{let e=t.target;if(t.composed&&(e=t.composedPath()[0]),e instanceof Element&&(e=e.closest("a, area")),!(e instanceof HTMLAnchorElement)&&!(e instanceof SVGAElement)&&!(e instanceof HTMLAreaElement))return;const n=e instanceof HTMLElement?e.target:e.target.baseVal,o=e instanceof HTMLElement?e.href:e.href.baseVal,r=new URL(o,location.href).origin;st(e)||e.hasAttribute("download")||!e.href||n&&n!=="_self"||r!==location.origin||t.button!==0||t.metaKey||t.ctrlKey||t.altKey||t.shiftKey||t.defaultPrevented||(t.preventDefault(),tt(o,{history:e.dataset.astroHistory==="replace"?"replace":"auto",sourceElement:e}))}),document.addEventListener("submit",t=>{let e=t.target;if(e.tagName!=="FORM"||t.defaultPrevented||st(e))return;const n=e,o=t.submitter,r=new FormData(n,o),i=typeof n.action=="string"?n.action:n.getAttribute("action"),a=typeof n.method=="string"?n.method:n.getAttribute("method");let s=o?.getAttribute("formaction")??i??location.pathname;const c=o?.getAttribute("formmethod")??a??"get";if(c==="dialog"||location.origin!==new URL(s,location.href).origin)return;const u={sourceElement:o??n};if(c==="get"){const d=new URLSearchParams(r),l=new URL(s);l.search=d.toString(),s=l.toString()}else u.formData=r;t.preventDefault(),tt(s,u)}),Tt({prefetchAll:!0}));const W=document.createElement("div"),y="data-vtbot-illegal-transition-names";function N(t,e,n,o){t.forEach(r=>{try{e&&e(r),Et([...r.cssRules],e,n,o),o&&o(r)}catch(i){console.log(`%c[vtbot] Can't analyze sheet at ${r.href}: ${i}`,"color: #888")}})}function Et(t,e,n,o){t.forEach(r=>{r.constructor.name==="CSSStyleRule"?n&&n(r):"cssRules"in r?Et([...r.cssRules],e,n,o):"styleSheet"in r&&N([r.styleSheet],e,n,o)})}function Ce(t=document){const e=new Set,n=new Set;N([...t.styleSheets],void 0,r=>{[...r.selectorText.matchAll(/data-astro-cid-(\w{8})/g)].forEach(i=>e.add(i[1])),[...r.selectorText.matchAll(/\.astro-(\w{8})/g)].forEach(i=>e.add(i[1]))});const o="astroCid";return[...t.querySelectorAll("*")].forEach(r=>{Object.keys(r.dataset).forEach(i=>{i.startsWith(o)&&n.add(i.substring(o.length).toLowerCase().replace(/^-/g,""))}),r.classList.forEach(i=>{i.match(/^astro-(........)$/)&&n.add(i.replace(/^astro-/,""))})}),{inStyleSheets:e,inElements:n}}function De(t,e,n=new Map){const o=new Map;return N([...t.styleSheets],i=>{const a=i.ownerNode;if(o.has(i))return;const s=new Set;o.set(i,s),[...(a?.textContent??"").replace(/@supports[^;{]+/g,"").matchAll(new RegExp(`${e}:\\s*([^;}]*)`,"gu"))].forEach(d=>s.add(r(e,d[1])))}),N([...t.styleSheets],void 0,i=>{const a=i.style[e];a&&(o.get(i.parentStyleSheet)?.delete(a),n.set(a,new Set([...n.get(a)??new Set,...t.querySelectorAll(i.selectorText)])))}),o.forEach((i,a)=>{const s=a.ownerNode;if(i.size>0){const c=[...i].join(", ");s.setAttribute(y,c),n.set("",new Set([...n.get("")??new Set,s]))}}),n;function r(i,a){return W.style[i]="",W.style[i]=a,W.style[i]||a}}function Ne(t,e,n=new Map){return t.querySelectorAll(`[style*="${e}:"`).forEach(o=>{const r=o.style[e];n.set(r,new Set([...n.get(r)??new Set,o]))}),n}function Pe(t,e,n=new Map){return Ne(t,e,De(t,e,n))}function E(t,e=!0){let n=[];for(;t&&t.nodeType===Node.ELEMENT_NODE;){let o=t.nodeName.toLowerCase();if(e&&t.id){o="#"+t.id,n.unshift(o);break}else{let r=t,i=1;for(;r=r.previousElementSibling;)r.nodeName.toLowerCase()===o&&i++;i!==1&&(o+=":nth-of-type("+i+")")}n.unshift(o),t=t.parentNode}return n.join(" > ")}const He="vtbot-linter",wt=()=>document.querySelector(`meta[name="${He}"]`),vt=()=>!!wt(),Oe=()=>wt()?.getAttribute("content")==="expanded";let g;const L="background-color: #880000; color: #ffffff; padding: 2px 4px; border-radius: 4px; font-weight: bold;",k="background-color: #887700; color: #ffffff; padding: 2px 4px; border-radius: 4px;",b="background-color:#eee; color: #333; font-weight: bold; padding: 2px 4px;",_e="color:#888;";function P(t,e,n){const o=new Map,r=`in ${n} DOM (${t[n==="old"?"from":"to"].pathname})`;if(!n){P(t,e,"old"),P(t,e,"new");return}const i=`[${e}]`;(n==="old"?document:t.newDocument).querySelectorAll(i).forEach(s=>{const c=s.getAttribute(e);if(!c)g(`%c[vtbot-linter] no value given for ${i} ${r}`,L),console.log(`%o at %c${E(s)}`,s,b),console.groupEnd();else{c.match(/astro-........-[0-9]+/)&&(g(`%c[vtbot-linter] looks like an implicit name: ${e}=${c} ${r}`,k),console.log(`%o at %c${E(s)}`,s,b),console.groupEnd());const d=o.get(c);d?(g(`%c[vtbot-linter] duplicate ${e}=${c} ${r}`,L),console.log(`%o at %c${E(s)}%c and earlier %o at %c${E(d)}`,s,b,"",d,b),console.groupEnd()):o.set(c,s)}const u=s.parentElement?.closest(i);u&&(g(`%c[vtbot-linter] nested HTML elements with ${i} in ${n} DOM (${t[n==="old"?"from":"to"].pathname})`,L),console.log(`%o at %c${E(s)}%c is nested inside %o at %c${E(u)}`,s,b,"",u,b),console.groupEnd())})}const Fe=new Set;function St(t,e){const n=`in ${e} DOM (${t[e==="old"?"from":"to"].pathname})`,o=Pe(document,"view-transition-name"),r=new Set,i=new Set((document.querySelector("meta[name=vtbot-linter-ignore]")?.content??"").split(" "));[...o.keys()].forEach(s=>{if(s!==""){const c=o.get(s);c.size===0&&!i.has(s)&&(r.add(s),g(`%c[vtbot-linter] no HTMLElement with view transition name "${s}" exists ${n}.`,k),console.log("This means either that a transition name has been defined but not used, e.g. by setting transition:name on an Astro component instead of an HTML element; or the HTML element that used the transition name has been moved to another DOM in the meantime."),console.groupEnd()),c.size>1&&s!=="none"&&(r.add(s),g(`%c[vtbot-linter] view transition name "${s}" is not unique ${n}`,L),[...c.values()].forEach(u=>{console.log(`%o at %c${E(u)}`,u,b)}),console.groupEnd())}});const a=new Set(["","initial","unset","inherit"].flatMap(s=>{const c=[...o.get(s)?.values()??Fe];return c.forEach(u=>{s&&!r.has(s)&&u.setAttribute(y,s)}),c}));[...a.values()].forEach(s=>{if(s instanceof HTMLStyleElement){if(s.getAttribute(y)){const c=s.getAttribute(y).split(", ").filter(u=>!r.has(u)).join(", ");c?s.setAttribute(y,c):(s.removeAttribute(y),a.delete(s))}}else r.has(s.attributes.style?.nodeValue?.match(/view-transition-name:\s*([^;]*)/)?.[1]??"")&&a.delete(s)}),x&&a.size>0&&(g(`%c[vtbot-linter] Illegal view-transition-name(s) ${n}`,L),console.log("%cMaybe it starts with a number, or is a reserved word, or it contains illegal characters?",k),[...a.values()].forEach(s=>{const c=s.getAttribute(y)??s.attributes.style?.nodeValue?.match(/view-transition-name:\s*([^;]+)/)?.[1]??"<unknown>";s.removeAttribute(y),console.log(`%c${c}%c in %o at %c${E(s)}`,L,"",s,b)}),console.groupEnd())}function At(t,e){const n=`in ${e} DOM (${t[e==="old"?"from":"to"].pathname})`,{inStyleSheets:o,inElements:r}=Ce(),i=new Set([...r].filter(a=>!o.has(a)));new Set([...o].filter(a=>!r.has(a))),i.forEach(a=>{g(`%c[vtbot-linter] scoped style id "${a}" is used but not defined ${n}. `,k),[...document.querySelectorAll(`[data-astro-cid-${a}], [class*="astro-${a}"]`)].filter((s,c,u)=>!u.includes(s.parentElement)).forEach(s=>console.log(s)),console.log("%c[vtbot-linter] The style sheet might got optimized away or the HTML element might have lost its style sheet, e.g. when being copied from another DOM.",b),console.groupEnd()})}function Be(t){const e=[...t.newDocument.querySelectorAll("script[type]")].filter(n=>n instanceof HTMLScriptElement&&n.type&&n.type!=="module"&&n.type!=="text/javascript"&&n.dataset.vtbotLinter!=="ignore");e.length&&(g(`%c[vtbot-linter] suspicious script types in ${t.to.pathname}`,k),e.forEach(n=>console.log(n)),console.groupEnd())}let X;const We=t=>{X=t,g=Oe()?console.group:console.groupCollapsed,vt()&&(P(t,"data-astro-transition-persist"),P(t,"data-vtbot-replace"),x?St(t,"old"):console.log("%c[vtbot-linter] check for unique view transition names not supported in this browser",_e),At(t,"old"),Be(t))},Ue=()=>{vt()&&(St(X,"new"),At(X,"new"))};document.addEventListener(H,We);document.addEventListener(ct,Ue);
